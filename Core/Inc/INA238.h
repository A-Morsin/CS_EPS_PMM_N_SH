
#ifndef CS_EPS_PMM_N_SH_V_INA238_H
#define CS_EPS_PMM_N_SH_V_INA238_H

#ifdef __cplusplus
extern "C" {
#endif

#define INA238_CONFIG_REG_ADDR			0x00
#define INA238_ADC_CONFIG_REG_ADDR	    0x01
#define INA238_SHUNT_CAL_REG_ADDR		0x02
#define INA238_VSHUNT_REG_ADDR  		0x04
#define INA238_VBUS_REG_ADDR			0x05
#define INA238_DIETEMP_REG_ADDR			0x06
#define INA238_CURRENT_REG_ADDR			0x07
#define INA238_POWER_REG_ADDR			0x08
#define INA238_DIAG_ALRT_REG_ADDR		0x0B
#define INA238_SOVL_REG_ADDR		    0x0C
#define INA238_SUVL_REG_ADDR		    0x0D
#define INA238_BOVL_REG_ADDR		    0x0E
#define INA238_BUVL_REG_ADDR		    0x0F
#define INA238_TEMP_LIMIT_REG_ADDR	    0x10
#define INA238_PWR_LIMIT_REG_ADDR		0x11
#define INA238_MANUFACTURER_ID_REG_ADDR 0x3E
#define INA238_DEVICE_ID_REG_ADDR		0x3F

#define INA238_AVERAGING_COUNT_1		0x00
#define INA238_AVERAGING_COUNT_4		0x01
#define INA238_AVERAGING_COUNT_16		0x02
#define INA238_AVERAGING_COUNT_64		0x03
#define INA238_AVERAGING_COUNT_128		0x04
#define INA238_AVERAGING_COUNT_256		0x05
#define INA238_AVERAGING_COUNT_512		0x06
#define INA238_AVERAGING_COUNT_1024		0x07

#define INA238_CONVERSION_TIME_50us		0x00
#define INA238_CONVERSION_TIME_84us		0x01
#define INA238_CONVERSION_TIME_150us	0x02
#define INA238_CONVERSION_TIME_280us	0x03
#define INA238_CONVERSION_TIME_540us	0x04
#define INA238_CONVERSION_TIME_1052us	0x05
#define INA238_CONVERSION_TIME_2074us	0x06
#define INA238_CONVERSION_TIME_1420us	0x07

//#define INA238_SHUTDOWN						 0x00
#define INA238_BUS_VOLTAGE_TRIGGERED	    	 0x01
#define INA238_SHUNT_VOLTAGE_TRIGGERED			 0x02
#define INA238_SHUNT_AND_BUS_TRIGGERED			 0x03
#define INA238_TEMPERATURE_TRIGGERED			 0x04
#define INA238_TEMPERATURE_AND_BUS_TRIGGERED	 0x05
#define INA238_TEMPERATURE_AND_SHUNT_TRIGGERED	 0x06
#define INA238_BUS_SHUNT_TEMPERATURE_TRIGGERED	 0x07
#define INA238_SHUTDOWN						     0x08
#define INA238_BUS_VOLTAGE_CONTINUOUS			 0x09
#define INA238_SHUNT_VOLTAGE_CONTINUOUS		     0x0A
#define INA238_SHUNT_AND_BUS_CONTINUOUS			 0x0B
#define INA238_TEMPERATURE_CONTINUOUS			 0x0C
#define INA238_BUS_AND_TEMPERATURE_CONTINUOUS	 0x0D
#define INA238_TEMPERATURE_AND_SHUNT_CONTINUOUS	 0x0E
#define INA238_BUS_SHUNT_TEMPERATURE_CONTINUOUS	 0x0F

#define INA238_ADC_RANGE_163mv	 0x00
#define INA238_ADC_RANGE_40mv	 0x01

ErrorStatus INA238_read_reg(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t INA238_addr_reg, uint16_t *read_data);
ErrorStatus INA238_write_reg(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t INA238_addr_reg, uint16_t write_data);


ErrorStatus INA238_Hard_reset(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr);
ErrorStatus INA238_setup_CONVDLY(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t conv_delay);
ErrorStatus INA238_get_CONVDLY(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t *conv_delay);
ErrorStatus INA238_setup_ADCRANGE(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t adc_range);
ErrorStatus INA238_get_ADCRANGE(I2C_TypeDef *I2Cx, uint8_t I2C_INA238_addr, uint8_t *adc_range);

#ifdef __cplusplus
}
#endif















#endif //CS_EPS_PMM_N_SH_V_INA238_H
